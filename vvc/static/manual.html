<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>VVC Manual</title>
    <script src="manual.js"></script>
  </head>
  <body>
    <!-- TODO: maybe manual should be a modal instead? So the dev can open it easily at anytime?
            Could it be scrollable?
            Could it remember scrolled position?
        -->
    <div class="center-panel">
      <a href="/"><button type="">HOME</button></a>
      <h1>VVC Manual</h1>
      <h2>Overview</h2>
      <p>
        VVC is a
        <a href="https://en.wikipedia.org/wiki/Fantasy_video_game_console"
          >Fantasy Video Game Console</a
        >.
      </p>
      <p>
        It features a custom scripting language, that is functional,
        declarative, statically typed and interpreted.
      </p>
      <p>
        The limitation of this console is that it can only draw
        <a href="https://en.wikipedia.org/wiki/Vector_graphics"
          >vector graphics</a
        >
        (currently only lines, maybe more to come).
      </p>
      <h2>Language</h2>
      <p>
        As mentioned, the scripting language is a custom one. It's inspired by
        <a href="https://elm-lang.org/">Elm</a>,
        <a href="https://www.roc-lang.org/">Roc</a> and
        <a href="https://nixos.org/manual/nix/stable/language/index.html">Nix</a
        >.
        <br />
      </p>
      <p>It's features include:</p>

      <ul>
        <li>functional and pure</li>
        <li>declarative</li>
        <li>statically typed</li>
        <li>interpreted</li>
        <li>hot-reloadable</li>
        <li>no side-effects</li>
        <li>curry-ing by default</li>
        <li>tagged unions</li>
      </ul>
      <p>Syntax is mostly similar to Rust, but there are some differences.</p>
      <h3>TODO: examples</h3>
      <p>
        TODO: defining functions, calling functions, records, record types,
        enums (tagged unions), enum matching, types, type parameters
      </p>
      <h3>Builtin types</h3>
      <p>Bool, Option, List, Float, Int, String, Vec2, Command</p>
      <h2>Game Loop</h2>
      <p>
        The architecture is similar to Elm's "Model-View-Update", but view and
        update are merged.
      </p>
      <p>The game loop looks roughly like this:</p>
      <p>
        When the game starts, the
        <span class="term">Game State</span>
        is initialized to the <span class="term">init</span> value.
      </p>
      <p>
        On every frame <span class="term">update_handler</span> function is
        called. It receives current
        <span class="term">Game State</span>
        and time delta; and returns new
        <span class="term">Game State</span>
        and <span class="term">Commands</span>.
      </p>
      <p>
        When an event happens (such as key being pressed)
        <span class="term">event_handler</span> function is called. It receives
        current
        <span class="term">Game State</span>
        and the
        <span class="term">Event</span>; and returns new
        <span class="term">Game State</span>
        and <span class="term">Commands</span>.
      </p>
      <p>
        <span class="term">Game State</span> can only be modified by changing
        the returned value. Visuals can be only drawn through the
        <span class="term">Commands</span>.
      </p>
      <h3>Commands</h3>
      <p>
        <span class="term">Commands</span> are the way of interacting with the
        console.
      </p>
      <p>
        Currently, the only command provided is
        <span class="term">DrawLine</span> command, which draws a straight line
        between two points.
      </p>

      <h3 id="game-state">Game State</h3>
      <h3>Update</h3>
      <h3>Events</h3>
    </div>
  </body>
</html>
